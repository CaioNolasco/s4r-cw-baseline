<ion-header>

  <ion-navbar color="cushman-1">
    <ion-title>Anexos {{ chamadoId }}</ion-title>
  </ion-navbar>
  <ion-toolbar color="cushman-1">
    <ion-segment [(ngModel)]="tipoAnexos" color="cushman-4">
      <ion-segment-button value="anexos">
        Anexos
      </ion-segment-button>
      <ion-segment-button value="fotos">
        Fotos
      </ion-segment-button>
    </ion-segment>
    <ion-buttons end>
      <button *ngIf="tipoAnexos == 'anexos'" ion-button icon-only>
        <ion-icon name="add"></ion-icon>
      </button>
      <button *ngIf="tipoAnexos == 'fotos'" ion-button icon-only>
        <ion-icon name="camera"></ion-icon>
      </button>
    </ion-buttons>
  </ion-toolbar>


</ion-header>


<ion-content>
  <ion-refresher (ionRefresh)="doRefresh($event)">
    <ion-refresher-content></ion-refresher-content>
  </ion-refresher>

  <ion-item *ngIf="tipoAnexos == 'anexos' && exibirMsgAnexos">
      <ion-icon name="construct" color="cushman-1" item-start></ion-icon>
      {{ msgNenhumItem }}
      <ion-icon (click)="atualizarClick()" name="refresh-circle" color="cushman-2" item-end></ion-icon>
    </ion-item>

  <ion-list *ngIf="tipoAnexos == 'anexos' && anexos">
    <ion-item-sliding *ngFor="let anexo of anexos">
      <ion-item class="item-lista-anexo">
        <h2>{{ anexo.NomeAnexo }}</h2>
        <p>{{ anexo.Comentarios}}</p>
        <ion-icon (click)="acessarClick(anexo)" name="link" color="cushman-2" item-end></ion-icon>
        <ion-icon (click)="excluirClick(anexo)" name="trash" color="cushman-1" item-end></ion-icon>
      </ion-item>

      <ion-item-options side="left">
        <button (click)="excluirClick(anexo)" ion-button color="cushman-1">
          <ion-icon name="trash"></ion-icon>
          Excluir
        </button>
        <button (click)="acessarClick(anexo)" ion-button color="cushman-2">
          <ion-icon name="link"></ion-icon>
          Acessar
        </button>
      </ion-item-options>
    </ion-item-sliding>
  </ion-list>

  <ion-item *ngIf="tipoAnexos == 'fotos' && exibirMsgFotos">
      <ion-icon name="construct" color="cushman-1" item-start></ion-icon>
      {{ msgNenhumItem }}
      <ion-icon (click)="atualizarClick()" name="refresh-circle" color="cushman-2" item-end></ion-icon>
    </ion-item>

  <ion-grid *ngIf="tipoAnexos == 'fotos' && fotos">
    <ion-row>
      <ion-col col-6 col-md-4 col-xl-3 *ngFor="let foto of fotos">
        <div (click)="abrirFotoClick(foto.sequencia)" class="thumb-fotos" [style.background-image]="'url('+ foto.url +')'"></div>
      </ion-col>
    </ion-row>
  </ion-grid>
</ion-content>